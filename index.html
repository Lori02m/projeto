<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>App de Despesas</title>

<style>
/* ---------- BASE ---------- */
:root{
 --bg:#f4f6f8;
 --card:#ffffff;
 --primary:#0b6cf0;
 --muted:#6b7280;
 --radius:14px;
 --shadow:0 6px 18px rgba(11,108,240,0.08);
 font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
}
*{box-sizing:border-box; -webkit-tap-highlight-color:transparent;}
body{margin:0;background:var(--bg);color:#111827}

/* ---------- LAYOUT ---------- */
.app{
 min-height:100vh;
 display:grid;
 grid-template-columns:280px 1fr;
 gap:24px;
 padding:28px;
}

.sidebar{
 background:var(--card);
 border-radius:var(--radius);
 padding:20px;
 box-shadow:var(--shadow);
}

.main{display:flex;flex-direction:column;gap:20px}

.card{
 background:var(--card);
 border-radius:var(--radius);
 padding:20px;
 box-shadow:var(--shadow);
}

/* ---------- ELEMENTOS ---------- */
.brand{display:flex;align-items:center;gap:10px;margin-bottom:18px}
.logo{
 width:40px;height:40px;border-radius:10px;
 background:linear-gradient(135deg,var(--primary),#5bc0ff);
}
.title{font-weight:700}

.nav{display:flex;flex-direction:column;gap:8px;margin-top:10px}
.nav button{
 background:transparent;border:0;padding:12px 14px;
 text-align:left;border-radius:10px;cursor:pointer;
 font-weight:600;color:#111827;font-size:15px;
}
.nav button.active{background:#f0f6ff;color:var(--primary)}

form{display:flex;flex-direction:column;gap:12px}
input{
 padding:14px;
 border-radius:10px;
 border:1px solid #e6e9ee;
 font-size:16px;
}

.btn{
 background:var(--primary);
 color:white;
 padding:14px;
 border-radius:10px;
 border:0;
 font-weight:700;
 cursor:pointer;
 font-size:16px;
}

.muted{color:var(--muted);font-size:14px}

.header{display:flex;justify-content:space-between;align-items:center}
.welcome{font-size:20px;font-weight:700}

.stats{display:flex;gap:12px}
.stat{
 background:linear-gradient(180deg,#fff,#fbfcff);
 padding:12px;border-radius:10px;min-width:120px;
}

/* ---------- LISTAS ---------- */
#lista-despesas li,
#lista-economias li{
 padding:10px 0;
 border-bottom:1px solid #ececec;
 font-size:15px;
}

/* ---------- MOBILE • OTIMIZAÇÃO REAL ---------- */
@media (max-width: 700px){

 .app{
   grid-template-columns:1fr;
   padding:14px;
   gap:14px;
 }

 /* sidebar vira barra inferior */
 .sidebar{
   position:fixed;
   bottom:0; left:0; right:0;
   display:flex;flex-direction:row;
   justify-content:space-around;
   padding:10px 6px;
   border-radius:0;
   border-top:1px solid #d9d9d9;
   box-shadow:0 -3px 12px rgba(0,0,0,0.06);
   z-index:20;
 }

 .brand{display:none}
 .nav{flex-direction:row;gap:6px;margin:0;width:100%;justify-content:space-around}
 .nav button{
   flex:1;
   text-align:center;
   padding:10px 6px;
   font-size:13px;
 }

 .main{margin-bottom:80px}

 /* inputs maiores para dedo */
 input{font-size:15px;padding:12px}

 /* cartões mais compactos */
 .card{padding:16px}

 /* header stack */
 .header{
   flex-direction:column;
   gap:12px;
   text-align:center;
 }

 .stats{
   flex-wrap:wrap;
   justify-content:center;
 }
}

</style>
</head>
<body>

<div class="app" id="app">

<!-- SIDEBAR -->
<aside class="sidebar" id="menu">
 <nav class="nav">
   <button onclick="navigate('inicial')">Início</button>
   <button onclick="navigate('registrar')">Registrar</button>
   <button onclick="navigate('guardar')">Guardar</button>
   <button onclick="navigate('recompensas')">Recompensas</button>
   <button onclick="logout()">Sair</button>
 </nav>
</aside>

<!-- MAIN -->
<main class="main">

<!-- LOGIN -->
<section class="card login-wrapper" id="screen-login">
  <h2>Entrar</h2>
  <p class="muted">Faça login ou crie uma conta.</p>

  <form onsubmit="event.preventDefault(); doLogin()">
    <input id="email" type="email" placeholder="E-mail" required />
    <input id="password" type="password" placeholder="Senha" required />
    <button class="btn" type="submit">Entrar</button>
  </form>

  <hr>

  <h3>Criar Conta</h3>
  <form onsubmit="event.preventDefault(); doRegister()">
    <input id="reg-email" type="email" placeholder="E-mail" required />
    <input id="reg-password" type="password" placeholder="Senha" required />
    <button class="btn" style="background:#10b981">Criar Conta</button>
  </form>
</section>

<!-- INICIAL -->
<section class="card" id="screen-inicial" style="display:none">
  <div class="header">
    <div>
      <div class="welcome">Olá, <span id="user-name">Visitante</span></div>
      <div class="muted">Resumo rápido das suas finanças</div>
    </div>

    <div class="stats">
      <div class="stat">
        <div class="muted">Total Gasto</div>
        <div id="total-gasto" style="font-weight:800">R$ 0,00</div>
      </div>
      <div class="stat">
        <div class="muted">Pontos</div>
        <div id="user-points" style="font-weight:800">0</div>
      </div>
    </div>
  </div>

  <h3>Despesas Recentes</h3>
  <ul id="lista-despesas"></ul>

  <h3>Dinheiro Guardado</h3>
  <ul id="lista-economias"></ul>
</section>

<!-- REGISTRAR -->
<section class="card" id="screen-registrar" style="display:none">
  <h2>Registrar Despesa</h2>
  <form onsubmit="event.preventDefault(); addDespesa()">
    <input id="desp-titulo" type="text" placeholder="Título" required />
    <input id="desp-valor" type="number" step="0.01" placeholder="Valor (R$)" required />
    <input id="desp-cat" type="text" placeholder="Categoria" required />
    <div style="display:flex;gap:8px;margin-top:12px">
      <button class="btn">Salvar</button>
      <button type="button" onclick="navigate('inicial')">Cancelar</button>
    </div>
  </form>
</section>

<!-- GUARDAR -->
<section class="card" id="screen-guardar" style="display:none">
  <h2>Guardar Dinheiro</h2>
  <p class="muted">1 ponto por cada R$ 10 guardados.</p>
  <form onsubmit="event.preventDefault(); addEconomia()">
    <input id="eco-valor" type="number" step="0.01" placeholder="Valor" required />
    <button class="btn">Guardar</button>
  </form>
</section>

<!-- RECOMPENSAS -->
<section class="card" id="screen-recompensas" style="display:none">
  <h2>Recompensas</h2>
  <div id="reward-list"></div>
</section>

</main>
</div>

<script>
/* ---- MESMA LÓGICA, NADA ALTERADO ---- */
const state={authenticated:false,user:null,points:0,despesas:[],economias:[]};
const rewards=[
 {id:1,name:"10% de desconto",cost:200},
 {id:2,name:"Vale-café",cost:100},
 {id:3,name:"Brinde especial",cost:150},
];
function updateResumo(){
 const total=state.despesas.reduce((s,d)=>s+d.valor,0);
 document.getElementById("total-gasto").textContent=`R$ ${total.toFixed(2)}`;
 document.getElementById("user-points").textContent=state.points;
 document.getElementById("lista-despesas").innerHTML=state.despesas.map(d=>`<li>${d.titulo} - R$ ${d.valor.toFixed(2)}</li>`).join("");
 document.getElementById("lista-economias").innerHTML=state.economias.map(e=>`<li>Guardou R$ ${e.toFixed(2)}</li>`).join("");
}
function renderRewards(){
 const c=document.getElementById("reward-list");
 c.innerHTML=""; rewards.forEach(r=>{
   const el=document.createElement("div");
   el.className="reward-item";
   el.style=`padding:12px;background:#f9fafb;border-radius:10px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center`;
   el.innerHTML=`<div><strong>${r.name}</strong><br><span class="muted">${r.cost} pontos</span></div>
   <button class="btn" style="padding:6px 10px" onclick="redeem(${r.id})">Resgatar</button>`;
   c.appendChild(el);
 });
}
function redeem(id){
 const r=rewards.find(x=>x.id===id);
 if(state.points<r.cost) return alert("Pontos insuficientes!");
 state.points-=r.cost; updateResumo(); alert("Recompensa resgatada!");
}
function showScreen(id){
 ["screen-login","screen-inicial","screen-registrar","screen-guardar","screen-recompensas"].forEach(s=>{
   document.getElementById(s).style.display=(s===id?"block":"none");
 });
}
function navigate(screen){
 if(!state.authenticated&&screen!=="login") return showScreen("screen-login");
 if(screen==="recompensas") renderRewards();
 showScreen("screen-"+screen); updateResumo();
}
function doLogin(){
 const email=document.getElementById("email").value;
 state.authenticated=true;
 state.user={ name:email.split("@")[0] };
 document.getElementById("user-name").textContent=state.user.name;
 navigate("inicial");
}
function doRegister(){
 const email=document.getElementById("reg-email").value;
 alert("Conta criada!");
 document.getElementById("email").value=email;
}
function logout(){
 state.authenticated=false;
 state.user=null; state.points=0; state.despesas=[]; state.economias=[];
 showScreen("screen-login");
}
function addDespesa(){
 const t=document.getElementById("desp-titulo").value;
 const v=parseFloat(document.getElementById("desp-valor").value);
 const c=document.getElementById("desp-cat").value;
 state.despesas.push({titulo:t,valor:v,cat:c});
 navigate("inicial");
}
function addEconomia(){
 const v=parseFloat(document.getElementById("eco-valor").value);
 state.economias.push(v);
 state.points+=Math.floor(v/10);
 navigate("inicial");
}
showScreen("screen-login");
</script>

</body>
</html>
